# Example configuration file for multi-cluster consistency checker

# Global configuration
[global]

# Log level: debug, info, warn, error, fatal, panic
log-level = "info"

# Data directory configuration, contains report and checkpoint data
data-dir = "/tmp/multi-cluster-consistency-checker-data"

  # Tables configuration
  [global.tables]
  schema1 = ["table1", "table2"]
  schema2 = ["table1", "table2"]

# Cluster configurations
[clusters]
  # First cluster configuration
  [clusters.cluster1]
  pd-addrs = ["127.0.0.1:2379"]
  s3-sink-uri = "s3://bucket-name/cluster1/"
  s3-changefeed-id = "s3-changefeed-id-1"
  # security-config = { ca-path = "ca.crt", cert-path = "cert.crt", key-path = "key.crt" }
  [clusters.cluster1.peer-cluster-changefeed-config]
  cluster2 = { changefeed-id = "active-active-changefeed-id-from-cluster1-to-cluster2" }

  # Second cluster configuration
  [clusters.cluster2]
  pd-addrs = ["127.0.0.1:2479"]
  s3-sink-uri = "s3://bucket-name/cluster2/"
  s3-changefeed-id = "s3-changefeed-id-2"
  # security-config = { ca-path = "ca.crt", cert-path = "cert.crt", key-path = "key.crt" }
  [clusters.cluster2.peer-cluster-changefeed-config]
  cluster1 = { changefeed-id = "active-active-changefeed-id-from-cluster2-to-cluster1" }

  # Third cluster configuration (optional)
  # [clusters.cluster3]
  # pd-addrs = ["127.0.0.1:2579"]
  # cdc-addr = "127.0.0.1:8500"
  # s3-sink-uri = "s3://bucket-name/cluster3/"
  # s3-changefeed-id = "s3-changefeed-id-3"
  # security-config = { ca-path = "ca.crt", cert-path = "cert.crt", key-path = "key.crt" }
  # [clusters.cluster3.peer-cluster-changefeed-config]
  # cluster1 = { changefeed-id = "active-active-changefeed-id-from-cluster3-to-cluster1" }
  # cluster2 = { changefeed-id = "active-active-changefeed-id-from-cluster3-to-cluster2" }
