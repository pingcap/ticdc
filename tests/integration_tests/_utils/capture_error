
#!/bin/bash

# parameter 1: line number
# parameter 2: error code
# parameter 3: last command

set -eux

error_handler() {
    local line_no=$1
    local error_code=$2
    local last_command="${BASH_COMMAND}"
    echo -e "\033[31mError occurred in script $0 at line $line_no"
    echo -e "Error code: $error_code"
    echo -e "Failed command: $last_command\033[0m"
}