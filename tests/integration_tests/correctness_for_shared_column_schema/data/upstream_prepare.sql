DROP DATABASE IF EXISTS test_100;
CREATE DATABASE test_100;
USE test_100;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (2, 3);
ALTER TABLE t1 ADD COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '100';
INSERT INTO t1 VALUES (12, 13, '100');
ALTER TABLE t1 MODIFY COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '';
ALTER TABLE t1 ADD PRIMARY KEY (a, site_code);

DROP DATABASE IF EXISTS test_200;
CREATE DATABASE test_200;
USE test_200;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (2, 3);
ALTER TABLE t1 ADD COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '200';
INSERT INTO t1 VALUES (12, 13, '200');
ALTER TABLE t1 MODIFY COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '';
ALTER TABLE t1 ADD PRIMARY KEY (a, site_code);

DROP DATABASE IF EXISTS test_300;
CREATE DATABASE test_300;
USE test_300;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (2, 3);
ALTER TABLE t1 ADD COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '300';
INSERT INTO t1 VALUES (12, 13, '300');
ALTER TABLE t1 MODIFY COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '';
ALTER TABLE t1 ADD PRIMARY KEY (a, site_code);

DROP DATABASE IF EXISTS test_400;
CREATE DATABASE test_400;
USE test_400;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (2, 3);
ALTER TABLE t1 ADD COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '400';
INSERT INTO t1 VALUES (12, 13, '400');
ALTER TABLE t1 MODIFY COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '';
ALTER TABLE t1 ADD PRIMARY KEY (a, site_code);

DROP DATABASE IF EXISTS test_500;
CREATE DATABASE test_500;
USE test_500;
CREATE TABLE t1 (a INT, b INT);
INSERT INTO t1 VALUES (1, 2), (2, 3);
ALTER TABLE t1 ADD COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '500';
INSERT INTO t1 VALUES (12, 13, '500');
ALTER TABLE t1 MODIFY COLUMN site_code VARCHAR(64) NOT NULL DEFAULT '';
ALTER TABLE t1 ADD PRIMARY KEY (a, site_code);

-- The following pair keeps columns and index definition identical except
-- IndexColumn.Length on site_code in the primary key.
DROP DATABASE IF EXISTS test_600;
CREATE DATABASE test_600;
USE test_600;
CREATE TABLE t1 (a INT, b INT, site_code VARCHAR(64) NOT NULL DEFAULT '', PRIMARY KEY (a, site_code));
INSERT INTO t1 VALUES (1, 2, '600'), (2, 3, '600'), (12, 13, '600');

DROP DATABASE IF EXISTS test_700;
CREATE DATABASE test_700;
USE test_700;
CREATE TABLE t1 (a INT, b INT, site_code VARCHAR(64) NOT NULL DEFAULT '', PRIMARY KEY (a, site_code(10)));
INSERT INTO t1 VALUES (1, 2, '700'), (2, 3, '700'), (12, 13, '700');